<p align="center">
  <img src="https://bsecure-dev.s3-eu-west-1.amazonaws.com/dev/react_app/assets/secure_logo.png" width="400px" position="center">
</p>

[![npm version](https://badge.fury.io/js/bsecure.svg)](https://badge.fury.io/js/bsecure)
[![Build Status](https://scrutinizer-ci.com/g/bSecureCheckout/bsecure-node/badges/build.png?b=master)](https://scrutinizer-ci.com/g/bSecureCheckout/bsecure-node/build-status/master)
[![Code Coverage](https://scrutinizer-ci.com/g/bSecureCheckout/bsecure-node/badges/coverage.png?b=master)](https://scrutinizer-ci.com/g/bSecureCheckout/bsecure-node/?branch=master)
[![Scrutinizer Code Quality](https://scrutinizer-ci.com/g/bSecureCheckout/bsecure-node/badges/quality-score.png?b=master)](https://scrutinizer-ci.com/g/bSecureCheckout/bsecure-node/?branch=master)

# bSecure Payment Plugin

Pakistan's first universal checkout solution that is easy and simple to integrate on your e-commerce store.

### About bSecure Checkout

bSecure Payment Plugin is a JavaScript library that allows you to securely process your payments. This plugin instantly creates a form that adheres to _PCI, _HIPAA, _GDPR, or _CCPA security requirements
It is built for _desktop_, _tablet_, and _mobile devices_ and is continuously tested and updated to offer a frictionless payment experience for your e-commerce store.

### Installation

You can install the package via **npm**

`npm install bsecure-payment-plugin --save`

### Demo

You can view the **demo**on:
[See demo](https://bsecure-test-app.herokuapp.com/)

### Configuration

The package can be initialized with below mentioned options:

```JavaScript
bSecureApp.initialize("bSecurePaymentPluginContainer");
```

## Usage
Before initializing **_bSecurePaymentPluginContainer** define response listener:

```JavaScript
bSecurePaymentPluginResponseHandler.onError = function(data) {
     console.log("onError: ", data)
};
bSecurePaymentPluginResponseHandler.onSuccess = function(data) {
     console.log("onSuccess: ", data)
};
bSecurePaymentPluginResponseHandler.onValidationError = function(data) {
     console.log("onValidationError: ", data)
};
bSecurePaymentPluginResponseHandler.onProcessPayment = function(data) {
     console.log("onProcessPayment: ", data)
};

```

Or using,

```JavaScript
const bsecure = require("bsecure")(config);
    bsecure.authorize()
    .then(response => console.log(response))
    .catch(error => console.error(error));
```

Or using ES modules and async/await:

```JavaScript
bSecurePaymentTransactionParameters.__00trid__ = '';
bSecurePaymentTransactionParameters.__01curr__ = '';
bSecurePaymentTransactionParameters.__02trdt__ = '';
bSecurePaymentTransactionParameters.__03stamt__ = '';
bSecurePaymentTransactionParameters.__04damt__ = '';
bSecurePaymentTransactionParameters.__05tamt__ = '';
bSecurePaymentTransactionParameters.__06cname__ = '';
bSecurePaymentTransactionParameters.__07ccc__ = '';
bSecurePaymentTransactionParameters.__08cphn__ = '';
bSecurePaymentTransactionParameters.__09cemail__ = '';
bSecurePaymentTransactionParameters.__10ccc__ = '';
bSecurePaymentTransactionParameters.__11cstate__ = '';
bSecurePaymentTransactionParameters.__12ccity__ = '';
bSecurePaymentTransactionParameters.__13carea__ = '';
bSecurePaymentTransactionParameters.__14cfadd__ = '';
bSecurePaymentTransactionParameters.__15mid__ = '';
bSecurePaymentTransactionParameters.__16stid__ = '';
bSecurePaymentTransactionParameters.__17seh__ = '';
bSecurePaymentTransactionParameters.__18ver__ = '';
bSecurePaymentTransactionParameters.__20red__ = '';

```

#### Glossary

| Key           | Property                    | Description  | Default  |
| :---------:   | :--------                   | :----------- | :--------|
|  __00trid__   | Order id                    | string       | required |
|  __01curr__   | currency                    | string       | 'PKR'    |
|  __02trdt__   | Transaction date time       | string       | required |
|  __03stamt__  | Subtotal amount             | string       | required |
|  __04damt__   | Discount amount             | string       | required |
|  __05tamt__   | Total amount                | string       | required |
|  __06cname__  | Customer name               | string       | required |
|  __07ccc__    | Customer country code       | string       | required |
|  __08cphn__   | Customer phone number       | string       | required |
|  __09cemail__ | Customer email address      | string       | optional |
|  __10ccc__    | Customer country name       | string       | required |
|  __11cstate__ | Customer state name         | string       | required |
|  __12ccity__  | Customer city name          | string       | required |
|  __13carea__  | Customer area name          | string       | required |
|  __14cfadd__  | Customer formatted address  | string       | required |
|  __15mid__    | Merchant id                 | string       | required |
|  __16stid__   | Store slug                  | string       | required |
|  __17seh__    | Secure id                   | string       | required |
|  __18ver__    | Plugin version              | string       | required |
|  __20red__    | Redirect url                | string       | required |

### Changelog

Please see [CHANGELOG](CHANGELOG.md) for more information what has changed recently.

## License

The MIT License (MIT). Please see [License File](LICENSE.md) for more information.

## Contributions

**"bSecure â€“ Payment Plugin"** is open source software.
